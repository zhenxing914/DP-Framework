webpackJsonp([1],{0:function(e,t,n){n(936),e.exports=n(1232)},1232:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(90),o=r(a),u=n(242),l=r(u),i=n(1233),c=n(1287),s=n(1296),f=r(s),d=n(1331),m=r(d),p=n(1334),h=r(p),y=n(1338),b=r(y),v=n(1358),g=r(v);n(1360),n(1362),n(1368),n(1370),n(1372);var E="",O=function(e,t,n){(0,c.Request)("/homeapi/usrcenter/isLogin").then(function(e){E=JSON.parse(e.respBody.message),E.fullname&&(0,c.setCookie)("fullname",E.fullname),n()})},k=function(e,t,n){E.isLogin?n():window.location.href="/log?fromUrl="+window.location.href};l.default.render(o.default.createElement(i.Router,{history:i.browserHistory},o.default.createElement(i.Route,{path:"/",component:f.default,onEnter:O},o.default.createElement(i.IndexRedirect,{to:"form/formSearch"}),o.default.createElement(i.Route,{path:"log",component:m.default}),o.default.createElement(i.Route,{path:"form",component:h.default,onEnter:k},o.default.createElement(i.Route,{path:"formSearch",component:b.default}),o.default.createElement(i.Route,{path:"formSubmit",component:g.default})))),document.querySelector(".container"))},1296:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(90),s=r(c),f=n(1297),d=function(e){function t(e){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,e),i(t,[{key:"render",value:function(){var e={key:"/",value:s.default.createElement("span",{className:"icon-telecom-logo"})};return s.default.createElement("div",{className:"content"},"/log"!=window.location.pathname&&s.default.createElement(f.Header,{icon:e}),this.props.children)}}]),t}(s.default.Component);t.default=d},1331:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(90),s=r(c),f=n(1297),d=n(1332),m=r(d),p=n(1333),h=r(p),y=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),i(t,[{key:"render",value:function(){var e="http://localhost:8080",t="http://localhost:8080",n=[[{key:t+"/console",value:"总览"},{key:t+"/product",value:"产品服务",children:[{value:"大数据产品",children:[{key:t+"/product/offlineAnalysis",value:"数据工厂"},{key:t+"/product/intelligentScheduling",value:"智能调度"}]},{value:"数据服务",children:[{key:t+"/product/positionService",value:"位置服务"}]}]},{key:t+"/documents",value:"文档支持",children:[{value:null,children:[{key:t+"/documents/index?key=guid",value:"入门指南"},{key:t+"/documents/index?key=document",value:"产品文档"},{key:t+"/documents/index?key=faq",value:"常见问题"},{key:t+"/documents/index?key=support",value:"技术支持"}]}]}],[{key:t+"/user",value:"PLACEHOlD",children:[{value:null,children:[{key:t+"/userCenter",value:"用户中心"},{key:t+"/logout",value:"退出"}]}]},{key:t+"/order/myOrder",value:"工单"},{key:t+"/message",value:"通知"}]];return s.default.createElement("div",{className:"login-iframe background"},s.default.createElement("div",{className:"iframe-icon"},s.default.createElement("span",{className:"icon-telecom-logo iframe-icon-inner"})),s.default.createElement("div",{className:"background-img"},s.default.createElement("img",{src:m.default,alt:""})),s.default.createElement("div",{className:"iframe-wrapper iframe-position"},s.default.createElement(f.Login,{fromUrl:e,appName:"todp",subsys:"todp_web",menuList:n})),s.default.createElement("img",{src:h.default,alt:"",className:"footer"}))}}]),t}(s.default.Component);t.default=y},1332:function(e,t,n){e.exports=n.p+"images/6217b943.login.png"},1333:function(e,t,n){e.exports=n.p+"images/e28cae2e.title.jpg"},1334:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n(1300),n(638)),c=r(i),s=(n(1335),n(356)),f=r(s),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(90),p=r(m),h=n(1233),y={form:"表单示例",formSearch:"表单查找",formSubmit:"表单提交"},b=function(e){function t(){o(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={selectedKey:window.location.pathname},e.handleClick=e.handleClick.bind(e),e}return l(t,e),d(t,[{key:"handleClick",value:function(e){this.setState({selectedKey:e.key})}},{key:"renderBreadcrumb",value:function(){var e=window.location.pathname.split("/");return e.shift(),e.map(function(e){return p.default.createElement(f.default.Item,{className:"form-breadcrumb"},y[e])})}},{key:"render",value:function(){return p.default.createElement("div",{className:"form"},p.default.createElement(c.default,{theme:"dark",onClick:this.handleClick,className:"form-sidebar",selectedKeys:[this.state.selectedKey],mode:"inline"},p.default.createElement(c.default.Item,{key:"/form/formSearch"},p.default.createElement(h.Link,{to:"/form/formSearch"},"表单查找")),p.default.createElement(c.default.Item,{key:"/form/formSubmit"},p.default.createElement(h.Link,{to:"/form/formSubmit"},"表单提交"))),p.default.createElement("div",{className:"form-content"},p.default.createElement(f.default,null,this.renderBreadcrumb()),this.props.children))}}]),t}(p.default.Component);t.default=b},1335:function(e,t,n){"use strict";n(1301),n(1336)},1336:function(e,t){},1338:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n(1339),n(692)),c=r(i),s=(n(1328),n(342)),f=r(s),d=(n(1345),n(576)),m=r(d),p=(n(1357),n(348)),h=r(p),y=(n(1300),n(638)),b=r(y),v=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l["return"]&&l["return"]()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=n(90),O=r(E),k=n(363),w=r(k),S=n(1287),j=function(){return{" ":"全部",RUNNING:"处理中",WAIT_ADD:"待客户补充",WAIT_CONFIRM:"待客户确认",COMPLETE:"已完成",CANCEL:"已撤销"}},C=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n,a=O.default.createElement(b.default,{onClick:n.chooseStatus.bind(r)},Object.entries(j()).map(function(e){return O.default.createElement(b.default.Item,{key:e[0]},e[1])}));return n.state={tds:[],loading:!1,visible:!1,totalCount:0,query:"",pageId:1,orderStatus:"",columns:[{title:"工单编号",dataIndex:"id",key:"id",sorter:function(e,t){return e.id-t.id}},{title:"相关产品与服务",dataIndex:"module",key:"module"},{title:"问题标题",dataIndex:"title",key:"title"},{title:O.default.createElement(m.default,{overlay:a},O.default.createElement("div",{className:"form-search-switch-status"},"状态",O.default.createElement(h.default,{type:"caret-down"}))),dataIndex:"status",key:"status"},{title:"提交时间",dataIndex:"gmtCreated",key:"gmtCreated",sorter:function(e,t){return new Date(e.gmtCreated).valueOf()-new Date(t.gmtCreated).valueOf()}},{title:"操作",dataIndex:"operation",key:"operation",render:function(e,t){return O.default.createElement("span",null,O.default.createElement("a",{key:e,onClick:function(){return n.checkDetails(e,t)},className:"form-search-operation-position"},e[0]))}}]},n.setQuery=n.setQuery.bind(n),n.conditionQuery=n.conditionQuery.bind(n),n.conditionQueryByEnter=n.conditionQueryByEnter.bind(n),n.checkDetails=n.checkDetails.bind(n),n.getOrderList=n.getOrderList.bind(n),n}return l(t,e),g(t,[{key:"setQuery",value:function(e){this.setState({query:e.target.value})}},{key:"getOrderList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0";this.setState({loading:!0}),(0,S.Request)("/homeapi/workorder/getList",{method:"POST",headers:{"Content-Type":"application/json"},body:{page:e,status:t,searchContent:encodeURIComponent(r),subModuleId:a}}).then(function(e){n.setState({loading:!1});var t=n;(0,S.resolve)(e,function(){var n=[];e.respBody.message.workOrderList.forEach(function(e){var t={},r=!0,a=!1,o=void 0;try{for(var u,l=Object.entries(e)[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var i=v(u.value,2),c=i[0],s=i[1];switch(c){case"status":var f=(!!["COMPLETE","CANCEL"].includes(s),"●"+j()[s]),d="COMPLETE"==s?"#22c202":"#ff0000";t[c]=O.default.createElement("span",{style:{color:d}},f);break;case"id":t[c]=("000000000"+s).substr(-9);break;case"gmtCreated":t[c]=(0,w.default)(s).format("YYYY-MM-DD HH:mm:ss");break;case"title":t[c]=s.length>7?s.substr(0,7)+"……":s;break;default:t[c]=s}}}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}t["key"]=t["id"],t["module"]=t["module"]+"/"+t["subModule"],t["operation"]=["查看"],n.push(t)}),t.setState({tds:n,totalCount:e.respBody.message.totalCount})})})}},{key:"conditionQuery",value:function(){this.getOrderList(this.state.page,this.state.orderStatus,this.state.query)}},{key:"conditionQueryByEnter",value:function(e){13==e.charCode&&this.conditionQuery()}},{key:"chooseStatus",value:function(e){this.setState({orderStatus:e.key}),this.getOrderList(this.state.page,e.key,this.state.query)}},{key:"checkDetails",value:function(){console.log("test")}},{key:"componentWillMount",value:function(){this.getOrderList()}},{key:"render",value:function(){var e=this,t={total:this.state.totalCount,pageSize:10,current:this.state.pageId,onChange:function(t){e.setState({pageId:t}),e.getOrderList(t,e.state.orderStatus,e.state.query)}},n=10*this.state.pageId-9,r=10*this.state.pageId<this.state.totalCount?10*this.state.pageId:this.state.totalCount;return O.default.createElement("div",{className:"form-search"},O.default.createElement("div",{className:"form-search-title"},"表单查找"),O.default.createElement("div",{className:"form-search-content"},O.default.createElement("div",{className:"form-search-input-search"},O.default.createElement(f.default,{addonAfter:O.default.createElement("span",{className:"form-search-hover",onClick:this.conditionQuery},"查询"),onKeyPress:this.conditionQueryByEnter,onChange:this.setQuery,placeholder:"工单号/问题标题/问题描述关键词"})),O.default.createElement(c.default,{columns:this.state.columns,dataSource:this.state.tds,loading:this.state.loading,pagination:t}),!!this.state.totalCount&&O.default.createElement("div",{className:"form-search-table-supply"},"显示第"+n+"到第"+r+"项结果，共"+this.state.totalCount+"项")))}}]),t}(O.default.Component);t.default=C},1339:function(e,t,n){"use strict";n(1301),n(1340),n(1342),n(1319),n(1345),n(1348),n(1351)},1340:function(e,t){},1342:function(e,t,n){"use strict";n(1301),n(1343)},1343:function(e,t){},1345:function(e,t,n){"use strict";n(1301),n(1346),n(1316)},1346:function(e,t){},1348:function(e,t,n){"use strict";n(1301),n(1349)},1349:function(e,t){},1351:function(e,t,n){"use strict";n(1301),n(1352),n(1354),n(1328)},1352:function(e,t){},1354:function(e,t,n){"use strict";n(1301),n(1355),n(1328)},1355:function(e,t){},1357:function(e,t,n){"use strict";n(1301)},1358:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n(1316),n(359)),c=r(i),s=(n(1328),n(342)),f=r(s),d=(n(1354),n(274)),m=r(d),p=(n(1310),n(633)),h=r(p),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=n(90),v=r(b),g=n(1233),E=n(1287),O=n(1359),k=r(O),w={1:[{id:"1",value:"工单中心"},{id:"2",value:"消息中心"},{id:"3",value:"文档中心"},{id:"4",value:"帮助中心"}],2:[{id:"6",value:"查询问题"}]},S=function(e){function t(){o(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={selectedModule:"1",selectedSubModule:"1",subModules:w["1"],title:"",desc:""},e.setModule=e.setModule.bind(e),e.setSubModule=e.setSubModule.bind(e),e.setTitle=e.setTitle.bind(e),e.setDesc=e.setDesc.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return l(t,e),y(t,[{key:"setModule",value:function(e){this.setState({selectedModule:e,subModules:w[e],selectedSubModule:w[e][0].id})}},{key:"setSubModule",value:function(e){this.setState({selectedSubModule:e})}},{key:"setTitle",value:function(e){this.setState({title:e.target.value})}},{key:"setDesc",value:function(e){this.setState({desc:e.target.value})}},{key:"handleSubmit",value:function(){var e=this.state.title.replace(/^\s*|\s*$/g,"");e.length?(0,E.Request)("/homeapi/workorder/createWo",{method:"POST",headers:{"Content-Type":"application/json"},body:{module:this.state.selectedModule,subModule:this.state.selectedSubModule,title:e,description:this.state.desc.replace(/^\s*|\s*$/g,""),phoneNumber:"13313313333",email:"",imageInfo:"[]",fileInfo:""}}).then(function(e){(0,E.resolve)(e,function(e){h.default.success(e),setTimeout(function(){g.browserHistory.push("/form/formSearch")},1e3)},function(e){h.default.error(e)})}):h.default.error("标题不能为空")}},{key:"renderSubModules",value:function(e){return e.map(function(e){return v.default.createElement(m.default.Option,{value:e.id,key:e.id},e.value)})}},{key:"render",value:function(){return v.default.createElement("div",{className:"form-submit"},v.default.createElement("div",{className:"form-submit-title"},"表单提交"),v.default.createElement("div",{className:"form-submit-content"},v.default.createElement("div",{className:"form-submit-subtitle"},v.default.createElement(k.default,null),"表单标题："),v.default.createElement("div",{className:"form-submit-form"},v.default.createElement(f.default,{style:{width:200},placeholder:"标题长度不超过30字",value:this.state.title,onChange:this.setTitle,maxLength:"30"})),v.default.createElement("div",{className:"form-submit-subtitle"},v.default.createElement(k.default,null),"表单类型："),v.default.createElement("div",{className:"form-submit-form"},v.default.createElement(m.default,{value:this.state.selectedModule,onChange:this.setModule,style:{width:200,marginRight:20}},v.default.createElement(m.default.Option,{value:"1",key:"1"},"WEB门户"),v.default.createElement(m.default.Option,{value:"2",key:"2"},"数据仓库(HIVE)")),v.default.createElement(m.default,{value:this.state.selectedSubModule,onChange:this.setSubModule,style:{width:200}},this.renderSubModules(this.state.subModules))),v.default.createElement("div",{className:"form-submit-subtitle"},"表单描述："),v.default.createElement("div",{className:"form-submit-textarea"},v.default.createElement(f.default,{type:"textarea",rows:8,onChange:this.setDesc})),v.default.createElement("div",{className:"form-submit-btnGroup"},v.default.createElement(c.default,{type:"primary",onClick:this.handleSubmit},"提交"),v.default.createElement(c.default,null,"取消"))))}}]),t}(v.default.Component);t.default=S},1359:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return u.default.createElement("span",{style:{color:"#ff0000",width:"6px",marginLeft:"-6px"}},"*")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(90),u=r(o)},1360:function(e,t){},1362:function(e,t){},1368:function(e,t){},1370:function(e,t){},1372:function(e,t){}});